Compiling 4 files with Solc 0.8.29
Solc 0.8.29 finished in 530.42ms
Compiler run successful!

Ran 6 tests for test/NFTMarketV2Test.sol:NFTMarketV2Test
[FAIL: ERC20InvalidReceiver(0x0000000000000000000000000000000000000000); counterexample: calldata=0x99e10ee8000000000000000000000000000000000000000000000000000000000000027e0000000000000000000000000000000000000000000000000000000000000000 args=[638, 0x0000000000000000000000000000000000000000]] testFuzzListAndPurchase(uint256,address) (runs: 56, μ: 378340, ~: 377673)
Logs:
  Bound result 638

[PASS] testListNFT() (gas: 186520)
[FAIL: Error != expected error: ERC721InsufficientApproval(0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f, 1) != ERC721: caller is not token owner or approved] testListNFTFailures() (gas: 185517)
[FAIL: Error != expected error: ERC20InsufficientBalance(0x0000000000000000000000000000000000000004, 0, 100000000000000000000 [1e20]) != ERC20: insufficient allowance] testNoTokenBalance() (gas: 279840)
[PASS] testPurchaseNFT() (gas: 337420)
[FAIL: ERC20InvalidReceiver(0x0000000000000000000000000000000000000000)] testPurchaseNFTFailures() (gas: 421680)
Suite result: FAILED. 2 passed; 4 failed; 0 skipped; finished in 17.42ms (20.79ms CPU time)

╭------------------------------------------+-----------------+--------+--------+--------+---------╮
| src/NFTMarketV2.sol:NFTMarketV2 Contract |                 |        |        |        |         |
+=================================================================================================+
| Deployment Cost                          | Deployment Size |        |        |        |         |
|------------------------------------------+-----------------+--------+--------+--------+---------|
| 1167192                                  | 5382            |        |        |        |         |
|------------------------------------------+-----------------+--------+--------+--------+---------|
|                                          |                 |        |        |        |         |
|------------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                            | Min             | Avg    | Median | Max    | # Calls |
|------------------------------------------+-----------------+--------+--------+--------+---------|
| getListing                               | 6699            | 6699   | 6699   | 6699   | 2       |
|------------------------------------------+-----------------+--------+--------+--------+---------|
| listNFT                                  | 23357           | 105949 | 109731 | 109839 | 64      |
|------------------------------------------+-----------------+--------+--------+--------+---------|
| purchaseNFT                              | 30495           | 84216  | 86900  | 86900  | 60      |
╰------------------------------------------+-----------------+--------+--------+--------+---------╯

╭-----------------------------------------+-----------------+-------+--------+-------+---------╮
| test/mocks/TestNFT.sol:TestNFT Contract |                 |       |        |       |         |
+==============================================================================================+
| Deployment Cost                         | Deployment Size |       |        |       |         |
|-----------------------------------------+-----------------+-------+--------+-------+---------|
| 1888333                                 | 9475            |       |        |       |         |
|-----------------------------------------+-----------------+-------+--------+-------+---------|
|                                         |                 |       |        |       |         |
|-----------------------------------------+-----------------+-------+--------+-------+---------|
| Function Name                           | Min             | Avg   | Median | Max   | # Calls |
|-----------------------------------------+-----------------+-------+--------+-------+---------|
| approve                                 | 26938           | 48726 | 49078  | 49078 | 63      |
|-----------------------------------------+-----------------+-------+--------+-------+---------|
| mint                                    | 69247           | 69247 | 69247  | 69247 | 12      |
|-----------------------------------------+-----------------+-------+--------+-------+---------|
| ownerOf                                 | 3071            | 3071  | 3071   | 3071  | 57      |
╰-----------------------------------------+-----------------+-------+--------+-------+---------╯

╭---------------------------------------------+-----------------+-------+--------+-------+---------╮
| test/mocks/TestToken.sol:TestToken Contract |                 |       |        |       |         |
+==================================================================================================+
| Deployment Cost                             | Deployment Size |       |        |       |         |
|---------------------------------------------+-----------------+-------+--------+-------+---------|
| 1084380                                     | 5740            |       |        |       |         |
|---------------------------------------------+-----------------+-------+--------+-------+---------|
|                                             |                 |       |        |       |         |
|---------------------------------------------+-----------------+-------+--------+-------+---------|
| Function Name                               | Min             | Avg   | Median | Max   | # Calls |
|---------------------------------------------+-----------------+-------+--------+-------+---------|
| approve                                     | 46868           | 46931 | 46904  | 47000 | 61      |
|---------------------------------------------+-----------------+-------+--------+-------+---------|
| balanceOf                                   | 2851            | 2851  | 2851   | 2851  | 114     |
|---------------------------------------------+-----------------+-------+--------+-------+---------|
| mint                                        | 22359           | 52785 | 51790  | 68818 | 75      |
|---------------------------------------------+-----------------+-------+--------+-------+---------|
| transfer                                    | 22434           | 22434 | 22434  | 22434 | 1       |
╰---------------------------------------------+-----------------+-------+--------+-------+---------╯


Ran 1 test suite in 25.39ms (17.42ms CPU time): 2 tests passed, 4 failed, 0 skipped (6 total tests)

Failing tests:
Encountered 4 failing tests in test/NFTMarketV2Test.sol:NFTMarketV2Test
[FAIL: ERC20InvalidReceiver(0x0000000000000000000000000000000000000000); counterexample: calldata=0x99e10ee8000000000000000000000000000000000000000000000000000000000000027e0000000000000000000000000000000000000000000000000000000000000000 args=[638, 0x0000000000000000000000000000000000000000]] testFuzzListAndPurchase(uint256,address) (runs: 56, μ: 378340, ~: 377673)
[FAIL: Error != expected error: ERC721InsufficientApproval(0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f, 1) != ERC721: caller is not token owner or approved] testListNFTFailures() (gas: 185517)
[FAIL: Error != expected error: ERC20InsufficientBalance(0x0000000000000000000000000000000000000004, 0, 100000000000000000000 [1e20]) != ERC20: insufficient allowance] testNoTokenBalance() (gas: 279840)
[FAIL: ERC20InvalidReceiver(0x0000000000000000000000000000000000000000)] testPurchaseNFTFailures() (gas: 421680)

Encountered a total of 4 failing tests, 2 tests succeeded
